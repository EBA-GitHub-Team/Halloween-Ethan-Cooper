<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Phantom Phactory: Tickets</title>
		<link href="styles.css" rel="stylesheet">
        <link rel="shortcut icon" href="files/favicon.ico">
		<meta charset="utf-8">
		<script src="mobileCheck.js"></script>
        <script src="formSubmit.js"></script>
	</head>
	
	<body>
        <div id="header">
            <a href="index.html"><img src="files/logo.png" alt="Logo"></a>
        </div>
        
        <div id="nav">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="attractions.html">Attractions</a></li>
                <li><a href="tickets.html">Tickets</a></li>
                <li><a href="gallery.html">Gallery</a></li>
                <li><a href="newsletter.html">Newsletter</a></li>
            </ul>
        </div>
        
        <div id="main">
			<h2>Review <strong>Your Order</strong>!</h2>

            <p>Please confirm that the following information is correct:</p>
            <p>Cost Per Ticket: <strong>$100</strong></p>
            <p>Your Order: <strong><span id="tickets">0</span> Ticket(s)</strong></p>
            <p>Your Total: <strong>$<span id="cost"></span></strong></p>
            <button onclick="complete()">Complete Purchase</button>
        </div>
        
        <div id="footer">
            <p>Property of EthanBlaisAlarms<br>&copy; Copyright EthanBlaisAlarms 2023<br>All Rights Reserved</p>
            <p><a href="copyright.html">Click for copyright information.</a></p>
        </div>

        <script>
			const urlParams = new URLSearchParams(window.location.search);
            let amount = Number(urlParams.get('quantity'));
            if (isNaN(amount) || amount < 1) {
                alert('Your order cannot be completed: Invalid quantity.\nYou will be redirected to the purchase page.');
                document.location = 'tickets.html';
                throw 'Invalid quantity';
            }
            document.getElementById('tickets').innerHTML = amount;
            document.getElementById('cost').innerHTML = amount * 100;
            function complete() {
                document.location = 'cardError.html';
            }
        </script>
	</body>
</html>